docs:
  LE_relations_smartants:
    location: ИА Диаграмма связей
    type: smartants
    source: >
      (
        {
          "nodes": $merge($."seaf.ia.logical_entities".$spread().(
            {
                *.code: {
                    "title": *.title,
                    "symbol": "system"
                }
            }
          ))
        ~> $merge(),
            "links": $."seaf.ia.logical_attributes".$spread().*[link_attr != {}].
                    {
                      "from": ($id := logical_entity; $$."seaf.ia.logical_entities".$spread()[$keys() = $id].*.code),
                      "to": ($id := link_attr; $$."seaf.ia.logical_entities".$spread()[$keys() = $id].*.code),
                      "title": link_type,
                      "style": "->"
                    }
        }
      )

# seaf.nav:
#   - title: Архитектура/Информационная/Логическая модель/Диаграмма связей
#     link: "docs/LE_relations_smartants"
